<!DOCTYPE html>
<html>
  <head>
    <title>ONITO | Preview Prescription</title>
    <link rel="stylesheet" href="style.css" />
    <!-- <link rel="stylesheet" href="style.css" /> -->
  </head>
  <body>
    <div id="prescription-body">
      <p>This is the Onito</p>
    </div>

    <script>
      const examinationDetail = {
        emr_data_to_variant_connector: {
          id: 32,
        },
        emr_vrnt_opd_prescription: {
          date: "2023-07-29T22:43:00+05:30",
          follow_up_rmndr_sms_schdld_at: 0,
          id: 27,
          is_follow_up_rmndr_sms_schdld: false,
          is_lab_services_loaded_to_bill: false,
          is_lab_services_loading_to_bill_cancelled: "",
          local_emr_settings_group_id: 1,
          opd_registration_id: 6978,
        },
        visit_billing_lab_services: [],
        visit_custom_section_fields_values: [
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 1,
              emr_data_to_variant_connector_id: 32,
              field_value: "PAIN AND SWELLING",
              id: 686,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 2,
              emr_data_to_variant_connector_id: 32,
              field_value: "LEFT KNEE",
              id: 687,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 3,
              emr_data_to_variant_connector_id: 32,
              field_value: "5 DAY(S)",
              id: 688,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 1,
              emr_data_to_variant_connector_id: 32,
              field_value: "VOMITTING",
              id: 689,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 2,
              emr_data_to_variant_connector_id: 32,
              field_value: "",
              id: 690,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 3,
              emr_data_to_variant_connector_id: 32,
              field_value: "4 DAY(S)",
              id: 691,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "FRACTURE IN LEG",
              id: 692,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 4,
              emr_data_to_variant_connector_id: 32,
              field_value: "NEEDS URGENT SURGERY",
              id: 693,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "XRAY",
              id: 694,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 5,
              emr_data_to_variant_connector_id: 32,
              field_value: "X RAY",
              id: 695,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "BED REST",
              id: 696,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "LIQUID DIET",
              id: 697,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "DIET - PRECAUTIONS",
              id: 698,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "KNEE PHYSIOTHERAPY AS ADVISED",
              id: 699,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "DIET",
              id: 700,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "PRECAUTIONS",
              id: 701,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "KNEE PHYSIOTHERAPY AS ADVISED",
              id: 702,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "DIET",
              id: 703,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "PRECAUTIONS",
              id: 704,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 6,
              emr_data_to_variant_connector_id: 32,
              field_value: "KNEE PHYSIOTHERAPY AS ADVISED",
              id: 705,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 7,
              emr_data_to_variant_connector_id: 32,
              field_value: "5 day(s)",
              id: 706,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 8,
              emr_data_to_variant_connector_id: 32,
              field_value: "YES",
              id: 707,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 9,
              emr_data_to_variant_connector_id: 32,
              field_value: "NO",
              id: 708,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 11,
              emr_data_to_variant_connector_id: 32,
              field_value: "NO",
              id: 709,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "EARLY OA",
              id: 710,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVANCED OA BOTH KNEE WITH VARUS DEFORMITY",
              id: 711,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "F U CASE OF TOTAL KNEE REPLACEMENT",
              id: 712,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value:
                "F U C OF TKR WITH ORAL ULCER \u0026 VITAMIN DEFICIENCY",
              id: 713,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 18,
              emr_data_to_variant_connector_id: 32,
              field_value: "RHEUMATOID ARTHRITIS-1",
              id: 714,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 19,
              emr_data_to_variant_connector_id: 32,
              field_value: "ADVISED BILATERAL TOTAL KNEE REPLACEMENT",
              id: 715,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 19,
              emr_data_to_variant_connector_id: 32,
              field_value: "RT KNEE TO BE OPERATED FIRST",
              id: 716,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 19,
              emr_data_to_variant_connector_id: 32,
              field_value: "GLOBUS HOSPITAL,",
              id: 717,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 19,
              emr_data_to_variant_connector_id: 32,
              field_value: "PLEASE ADMIT \u0026 INFORM ME",
              id: 718,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "SPINAL EXTENSION EXERCISES",
              id: 719,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "SWD 10 EXP X 10 MNT",
              id: 720,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "IFT",
              id: 721,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "GENTLE PELVIC TRACTION",
              id: 722,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "LS CORSET",
              id: 723,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "CERVICAL ISOMETRIC EXERCISES",
              id: 724,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "CERVICAL SWD 10X10",
              id: 725,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "US THERAPY",
              id: 726,
            },
          },
          {
            visit_custom_section_fields_value: {
              custom_section_field_id: 20,
              emr_data_to_variant_connector_id: 32,
              field_value: "LASER THERAPY",
              id: 727,
            },
          },
        ],
        visit_medications: [
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ROCIX TABLET 500 MG",
              generic_name: "",
              global_drugs_data_id: "",
              id: 17,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 17,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 317,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "101",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "NUTROMA CAPSULE",
              generic_name: "",
              global_drugs_data_id: "",
              id: 4,
              strength_ref_unit: "",
              strength_ref_value: 1,
              strength_unit: "mg",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 10,
            },
            visit_medication: {
              dosage: "1",
              drug_id: 4,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 331,
              instructions: "",
              intake_details_list: [
                {
                  frequency: "1-0-0",
                  interval: "",
                  duration: "30 day(s)",
                  timing: "After Food",
                },
              ],
              unit: "",
            },
          },
          {
            personal_drugs_datum: {
              class: "",
              dosage_calc_default: 0,
              dosage_calc_method: "dosage_from_latest_medication",
              drug_name: "ZYTEE LOTION",
              generic_name: "",
              global_drugs_data_id: "",
              id: 23,
              strength_ref_unit: "",
              strength_ref_value: 0,
              strength_unit: "",
              strength_value: 0,
              sub_global_emr_settings_group_id: 1,
              type: "",
              usage_count: 2,
            },
            visit_medication: {
              dosage: "",
              drug_id: 23,
              drug_type: "",
              emr_data_to_variant_connector_id: 32,
              id: 335,
              instructions: "TO BE APPLIED LOCALLY",
              intake_details_list: [
                {
                  frequency: "",
                  interval: "",
                  duration: "10 day(s)",
                  timing: "",
                },
              ],
              unit: "",
            },
          },
        ],
        visit_vital: {
          blood_oxygen: "89",
          diastolic_blood_pressure: "3",
          emr_data_to_variant_connector_id: 32,
          height: "150",
          id: 57,
          pulse: "5",
          systolic_blood_pressure: "1",
          temperature_unit: "F",
          temperature_value: "23",
          weight: "56",
        },
      };
      const visitPadSettings = {
        message: "Success",
        data: [
          {
            visit_pad_custom_section: {
              id: 1,
              local_emr_settings_group_id: 1,
              name: "Chief Complaints",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 1,
                  enable_autosave: true,
                  id: 1,
                  input_grid_xs: 5,
                  input_right_grid_xs: 0.25,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 1,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 1,
                  enable_autosave: false,
                  id: 2,
                  input_grid_xs: 2.5,
                  input_right_grid_xs: 0.25,
                  input_type: "select",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0.5,
                  name: "in",
                  position_in_row: 2,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options:
                    '["Left Knee","Right Knee","Both Knees","Left Leg","Right Leg"]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 1,
                  enable_autosave: false,
                  id: 3,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0,
                  input_type: "duration",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0.5,
                  name: "since",
                  position_in_row: 3,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: 1,
              display_name: "Chief Complaints",
              id: 1,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 1,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 1,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section_fields: [],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: "",
              display_name: "Vitals",
              id: 7,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 2,
              prescription_print_visibility: true,
              section: "vitals",
              show_in_save_template_popup: false,
              visit_pad_position: 2,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 6,
              local_emr_settings_group_id: 1,
              name: "History",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 6,
                  enable_autosave: false,
                  id: 8,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0.25,
                  input_type: "yesno",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0.75,
                  name: "Diabetes",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 6,
                  enable_autosave: false,
                  id: 9,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0.25,
                  input_type: "yesno",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 1,
                  name: "Hypertension",
                  position_in_row: 2,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 6,
                  enable_autosave: false,
                  id: 10,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0.25,
                  input_type: "yesno",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0.5,
                  name: "TSH",
                  position_in_row: 3,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 6,
                  enable_autosave: false,
                  id: 11,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0.25,
                  input_type: "yesno",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 1,
                  name: "Food Allergy",
                  position_in_row: 4,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 6,
                  enable_autosave: false,
                  id: 12,
                  input_grid_xs: 1,
                  input_right_grid_xs: 0.25,
                  input_type: "text",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 1,
                  name: "Drug Allergy",
                  position_in_row: 5,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: true,
              custom_section_id: 6,
              display_name: "History",
              id: 6,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 3,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: false,
              visit_pad_position: 3,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 2,
              local_emr_settings_group_id: 1,
              name: "Clinical Findings",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 2,
                  enable_autosave: true,
                  id: 4,
                  input_grid_xs: 9,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 3,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: 2,
              display_name: "Clinical Findings",
              id: 2,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 4,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 4,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 3,
              local_emr_settings_group_id: 1,
              name: "Investigations Advised",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 3,
                  enable_autosave: true,
                  id: 5,
                  input_grid_xs: 8,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 4,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: 3,
              display_name: "Investigations Advised",
              id: 3,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 5,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 5,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 11,
              local_emr_settings_group_id: 1,
              name: "Diagnoses",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 11,
                  enable_autosave: true,
                  id: 18,
                  input_grid_xs: 9,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 2,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: true,
              custom_section_id: 11,
              display_name: "Diagnoses",
              id: 18,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 6,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 6,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 12,
              local_emr_settings_group_id: 1,
              name: "Admission Notes",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 12,
                  enable_autosave: true,
                  id: 19,
                  input_grid_xs: 9,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 5,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: true,
              custom_section_id: 12,
              display_name: "Management",
              id: 19,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 7,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 7,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section_fields: [],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: "",
              display_name: "Medications",
              id: 8,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 8,
              prescription_print_visibility: true,
              section: "medications",
              show_in_save_template_popup: true,
              visit_pad_position: 8,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 4,
              local_emr_settings_group_id: 1,
              name: "Advices",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 4,
                  enable_autosave: true,
                  id: 6,
                  input_grid_xs: 9,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 5,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: 4,
              display_name: "Advices",
              id: 4,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 9,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 9,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 13,
              local_emr_settings_group_id: 1,
              name: "Physiotherapy Advised",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 13,
                  enable_autosave: true,
                  id: 20,
                  input_grid_xs: 9,
                  input_right_grid_xs: 0,
                  input_type: "multirow",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: 5,
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: true,
              custom_section_id: 13,
              display_name: "Physiotherapy Advised",
              id: 20,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 10,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 10,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section: {
              id: 5,
              local_emr_settings_group_id: 1,
              name: "Review After",
            },
            visit_pad_custom_section_fields: [
              {
                visit_pad_custom_section_field: {
                  custom_section_id: 5,
                  enable_autosave: false,
                  id: 7,
                  input_grid_xs: 4,
                  input_right_grid_xs: 0,
                  input_type: "duration",
                  is_next_follow_up_duration_field: false,
                  label_grid_xs: 0,
                  name: "",
                  position_in_row: 1,
                  print_field_when_empty: false,
                  recommendation_data_field_id: "",
                  row_number: 1,
                  select_input_options: '[""]',
                },
              },
            ],
            visit_pad_setting: {
              copy_in_follow_up: false,
              custom_section_id: 5,
              display_name: "Review After",
              id: 5,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 11,
              prescription_print_visibility: true,
              section: "custom_section",
              show_in_save_template_popup: true,
              visit_pad_position: 11,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: "",
            },
          },
          {
            visit_pad_custom_section_fields: [],
            visit_pad_setting: {
              copy_in_follow_up: true,
              custom_section_id: "",
              display_name: "test",
              id: 21,
              local_emr_settings_group_id: 1,
              prescription_print_case: "uppercase",
              prescription_print_multi_value_layout: "newline_separated",
              prescription_print_position: 12,
              prescription_print_visibility: true,
              section: "wordpad_section",
              show_in_save_template_popup: true,
              visit_pad_position: 12,
              visit_pad_visibility: true,
              visit_pad_wordpad_section_id: 2,
            },
            visit_pad_wordpad_section: {
              id: 2,
              local_emr_settings_group_id: 1,
              name: "test",
              wordpad_json:
                '[{"type":"table","id":"GCJl57j8TC","data":{"withHeadings":false,"content":[["1","2","3"],["4","5","6"],["6","6","6"]]}}]',
              wordpad_paper_min_height: 10,
            },
          },
        ],
      };
      const patientDetail = {
        id: 3624,
        created_by: 1,
        updated_by: 1,
        deleted_by: 0,
        patient_title: "Mr.",
        first_name: "rajkumar",
        last_name: "khanna",
        full_name: "rajkumar khanna",
        financial_year_id: 2,
        fin_year_serial_no: 7196,
        patient_number: "23-24/GH/7196",
        display_patient_number: "23-24/GH/7196",
        email: "",
        mobile: "",
        date_of_birth: null,
        date_of_birth_by_age: "1973-07-24T18:15:08.747+05:30",
        sex: "male",
        blood_group: "",
        address: "India",
        city: "",
        state: "",
        pincode: "",
        country: "India",
        govt_issued_id_type: "",
        govt_issued_id: "",
        emergency_contact_number: "",
        guardian_label: "",
        guardian_title: "",
        guardian_name: "",
        occupation: "",
        marital_status: "",
        religion: "",
        nationality: "India",
      };
      const prescriptionPrintSettingsData = {
        message: "Success",
        data: {
          prescription_print_setting: {
            bottom_margin: 48,
            bottom_remark: "",
            consultant_qualifications: "Dr. R.K. Singh",
            content_scale_factor: 1,
            display_print_customization_popup: false,
            font_family: "Calibri",
            font_size: 14,
            footer_height: 0,
            footer_image_path: "",
            header_height: 10,
            header_image_path: "",
            id: 1,
            left_image_height: 0,
            left_image_padding: 0,
            left_image_path: "",
            left_image_top_margin: 0,
            left_image_width: 0,
            left_margin: 10,
            local_emr_settings_group_id: 1,
            print_drug_generic_name: true,
            print_footer_image: false,
            print_header_image: true,
            print_left_image: false,
            print_patient_details: true,
            right_margin: 10,
            top_margin: 50,
          },
        },
      };

      // patient details need function
      // sort text for the sex
      function getSexStringFromLabel(age_label) {
        switch (age_label) {
          case "male":
            return "M";
          case "female":
            return "F";
          case "other":
            return "Other";
        }
        return "";
      }
      // calculate date for patient detail
      function calculateAgeFromDates(date_of_birth, date_of_birth_by_age) {
        const today = new Date();

        if (date_of_birth && !isNaN(Date.parse(date_of_birth))) {
          const birthDate = new Date(date_of_birth);
          const age = today.getFullYear() - birthDate.getFullYear();
          const monthDiff = today.getMonth() - birthDate.getMonth();

          if (
            monthDiff < 0 ||
            (monthDiff === 0 && today.getDate() < birthDate.getDate())
          ) {
            age--; // Reduce age if the birth month/day has not occurred yet this year
          }

          return age + "Y";
        } else if (
          date_of_birth_by_age &&
          !isNaN(Date.parse(date_of_birth_by_age))
        ) {
          const birthDateByAge = new Date(date_of_birth_by_age);
          const ageInYears = today.getFullYear() - birthDateByAge.getFullYear();
          const ageInMonths = today.getMonth() - birthDateByAge.getMonth();

          if (
            ageInMonths < 0 ||
            (ageInMonths === 0 && today.getDate() < birthDateByAge.getDate())
          ) {
            ageInYears--; // Reduce age if the birth month/day has not occurred yet this year
          }

          if (ageInYears <= 2) {
            if (ageInMonths > 0) {
              return `${ageInYears}Y ${ageInMonths}M`;
            } else {
              return `${ageInMonths}M`;
            }
          }

          return `${ageInYears}Y`;
        } else {
          return "";
        }
      }
      // date for mate for patient detail
      function getDateInDDMMYYFormat(dt, separator = "/") {
        if (dt) {
          const dateObj = new Date(dt);
          const day = String(dateObj.getDate()).padStart(2, "0");
          const month = String(dateObj.getMonth() + 1).padStart(2, "0");
          const year = String(dateObj.getFullYear());

          return `${day}${separator}${month}${separator}${year}`;
        }
        return "";
      }

      // print separate string func
      function printSeparatedString(val, separator, prescription_print_case) {
        if (val && val.length > 0) {
          let res = "";
          for (let index = 0; index < val.length; index++) {
            if (val[index]) {
              res += val[index];
            }
          }

          //removing the trailing comma if any
          if (res.lastIndexOf(separator) == res.length - separator.length) {
            res = res.substring(0, res.length - separator.length);
          }

          return res;
        }
        return "";
      }

      // all custom section func
      // transform the field and convert field to field map
      function ConvertCustomField_ToFieldMap(custom_section) {
        const customFieldDataMap = {};

        custom_section?.forEach((f) => {
          if (
            !(
              f?.visit_custom_section_fields_value?.custom_section_field_id in
              customFieldDataMap
            )
          ) {
            customFieldDataMap[
              f.visit_custom_section_fields_value.custom_section_field_id
            ] = [f.visit_custom_section_fields_value.field_value];
          } else {
            customFieldDataMap[
              f.visit_custom_section_fields_value.custom_section_field_id
            ].push(f.visit_custom_section_fields_value.field_value);
          }
        });

        return customFieldDataMap;
      }

      const customFieldDataMaping = ConvertCustomField_ToFieldMap(
        examinationDetail.visit_custom_section_fields_values
      );

      // drow coma for separate data
      function drawCommaSeparatedData(
        field_name,
        field_data,
        prescription_print_multi_value_layout,
        prescription_print_case
      ) {
        if (field_data.length > 0) {
          return `
                    <span style="font-weight: 800">${field_name}:</span>
                    <span>${printSeparatedString(
                      field_data,
                      prescription_print_multi_value_layout ===
                        "fullstop_separated"
                        ? ". "
                        : ", ",
                      prescription_print_case
                    )}</span>
                `;
        }
        return "";
      }

      // drow coma separate for multi row
      function drawCommaSeparatedData_forMultiRow(
        visitPadSetting,
        customFieldDataMap,
        prescription_print_multi_value_layout,
        prescription_print_case
      ) {
        // fetching list of field-ids
        const list_of_field_ids = [];
        visitPadSetting?.visit_pad_custom_section_fields?.forEach((f) => {
          if (f?.visit_pad_custom_section_field?.id) {
            list_of_field_ids.push({
              field_id: f?.visit_pad_custom_section_field?.id,
              field_name: f.visit_pad_custom_section_field.name,
            });
          }
        });

        // checking if multirow all fields have same length in FieldDataMap or not
        let prev_num_rows_in_multirow_fields_same_length_data = -1;
        for (let i = 0; i < list_of_field_ids.length; i++) {
          // if at least 1 field data exist in customFieldDataMap
          // i.e. other fields must have the same length else it is
          // exception condition
          if (list_of_field_ids[i]["field_id"] in customFieldDataMap) {
            if (prev_num_rows_in_multirow_fields_same_length_data >= 0) {
              if (
                prev_num_rows_in_multirow_fields_same_length_data !==
                customFieldDataMap[list_of_field_ids[i]["field_id"]].length
              ) {
                throw new Error(
                  `Mismatched Length in Multirow Section '${visitPadSetting.visit_pad_setting.display_name}'`
                );
              }
            } else {
              prev_num_rows_in_multirow_fields_same_length_data =
                customFieldDataMap[list_of_field_ids[i]["field_id"]].length;
            }
          }
        }

        const multirow_jsx_arr = [];
        if (prev_num_rows_in_multirow_fields_same_length_data > 0) {
          // adding first line <br /> if newline_separated
          if (prescription_print_multi_value_layout === "newline_separated") {
            multirow_jsx_arr.push("<br />");
          }

          // looping through field_id_map one by one and assigning value at each index
          for (
            let i = 0;
            i < prev_num_rows_in_multirow_fields_same_length_data;
            i++
          ) {
            for (let j = 0; j < list_of_field_ids.length; j++) {
              // accessing the customFieldDataMap of that field id at that particular index
              const field_id = list_of_field_ids[j]["field_id"];

              if (
                field_id in customFieldDataMap &&
                i < customFieldDataMap[field_id].length
              ) {
                const field_val = customFieldDataMap[field_id][i];
                // if data exist for this custom section field, we will display it
                if (field_val) {
                  // if field_name exist, we will display it
                  if (list_of_field_ids[j]["field_name"]) {
                    multirow_jsx_arr.push(
                      `<span style="font-weight: 600; font-style: italic;">${list_of_field_ids[j]["field_name"]}</span>`
                    );
                  }
                  multirow_jsx_arr.push(`<span>${field_val}</span>`);
                }
              }
            }
            // only show delimiter before the last entry
            if (i < prev_num_rows_in_multirow_fields_same_length_data - 1) {
              multirow_jsx_arr.push(
                `<span>${
                  prescription_print_multi_value_layout === "fullstop_separated"
                    ? ". "
                    : prescription_print_multi_value_layout ===
                      "comma_separated"
                    ? ", "
                    : "<br />"
                }</span>`
              );
            }
          }
        }

        return multirow_jsx_arr.join("");
      }

      // Implement the sorting logic here
      function sortCustomSectionField(a, b) {
        // For example, you can compare the row_number and position_in_row fields of a and b
        // and return a negative value if a should come before b, a positive value if b should come before a,
        // or 0 if they are equal.

        // Example sorting based on row_number and position_in_row
        if (a.row_number === b.row_number) {
          return a.position_in_row - b.position_in_row;
        } else {
          return a.row_number - b.row_number;
        }
      }

      // custom section preview genarate html func
      function PreviewCustomSection(
        customFieldDataMap,
        visitPadSetting,
        maximumLengthCustomSectionsName,
        prescriptionPrintSettingsData
      ) {
        const fontSize =
          prescriptionPrintSettingsData["prescription_print_setting"][
            "font_size"
          ];
        const fontFamily =
          prescriptionPrintSettingsData["prescription_print_setting"][
            "font_family"
          ];

        // Create an array to store the HTML elements
        const customSectionElements = visitPadSetting?.map(
          (visitPadSection) => {
            const tmp_visitPadSection = JSON.parse(
              JSON.stringify(visitPadSection)
            );

            if (tmp_visitPadSection?.visit_pad_custom_section_fields) {
              tmp_visitPadSection.visit_pad_custom_section_fields.sort(
                sortCustomSectionField
              );

              if (
                tmp_visitPadSection?.visit_pad_setting
                  ?.prescription_print_multi_value_layout ===
                  "comma_separated" ||
                tmp_visitPadSection?.visit_pad_setting
                  ?.prescription_print_multi_value_layout ===
                  "fullstop_separated" ||
                tmp_visitPadSection?.visit_pad_setting
                  ?.prescription_print_multi_value_layout ===
                  "newline_separated"
              ) {
                const tmp_jsx = [];
                const multi_row_field =
                  tmp_visitPadSection?.visit_pad_custom_section_fields?.find(
                    (f) =>
                      f.visit_pad_custom_section_field.input_type === "multirow"
                  );
                if (multi_row_field) {
                  const multi_row_jsx_arr = drawCommaSeparatedData_forMultiRow(
                    tmp_visitPadSection,
                    customFieldDataMap,
                    tmp_visitPadSection.visit_pad_setting
                      .prescription_print_multi_value_layout,
                    tmp_visitPadSection.visit_pad_setting
                      .prescription_print_case
                  );
                  if (multi_row_jsx_arr.length > 0) {
                    tmp_jsx.push(multi_row_jsx_arr);
                  }
                } else {
                  tmp_visitPadSection.visit_pad_custom_section_fields.forEach(
                    (f, index) => {
                      switch (f?.visit_pad_custom_section_field?.input_type) {
                        case "text":
                        case "textarea":
                        case "select":
                        case "yesno":
                        case "duration":
                          if (
                            f?.visit_pad_custom_section_field?.id in
                            customFieldDataMap
                          ) {
                            const comma_sprt_jsx = drawCommaSeparatedData(
                              f?.visit_pad_custom_section_field?.name,
                              customFieldDataMap[
                                f?.visit_pad_custom_section_field?.id
                              ],
                              tmp_visitPadSection.visit_pad_setting
                                .prescription_print_multi_value_layout,
                              tmp_visitPadSection.visit_pad_setting
                                .prescription_print_case
                            );

                            if (comma_sprt_jsx) {
                              tmp_jsx.push(comma_sprt_jsx);
                            }
                          }
                          break;
                      }
                    }
                  );
                }

                if (tmp_jsx.length > 0) {
                  const customSectionHTML = `
            <table style="margin-top: 2px" border="0" cellspacing="0" cellpadding="0">
              <tbody>
                <tr>
                  <td valign="top">
                    <div style="font-size: ${fontSize}px; font-family: ${fontFamily}; text-align: left;">
                      ${
                        tmp_visitPadSection?.visit_pad_setting?.display_name
                          ? `
                        <span style="font-weight: 800; text-decoration: underline;">${tmp_visitPadSection?.visit_pad_setting?.display_name}</span>
                        <span style="font-weight: 800">&nbsp;:-&nbsp;</span>
                      `
                          : ""
                      }
                      <span style="font-size: ${fontSize}px; font-family: ${fontFamily}; text-align: left;">
                        ${tmp_jsx.join("")}
                      </span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          `;

                  return customSectionHTML;
                }
              } else if (
                tmp_visitPadSection?.visit_pad_setting
                  ?.prescription_print_multi_value_layout ===
                "widedot_newline_separated"
              ) {
                // Function implementation using JavaScript (assuming you have the required utility functions)
                // ...

                const tmp_jsx = []; // Ensure tmp_jsx is defined here

                if (tmp_jsx.length > 0) {
                  const customSectionHTML = `
            <table style="margin-top: 2px" border="0" cellspacing="0" cellpadding="0">
              <tbody>
                <tr>
                  <td>
                    <div style="font-size: ${fontSize}px; font-family: ${fontFamily}; text-align: left;">
                      ${
                        tmp_visitPadSection?.visit_pad_setting?.display_name
                          ? `
                        <span style="font-weight: 800; text-decoration: underline;">${tmp_visitPadSection?.visit_pad_setting?.display_name}</span>
                        <span style="font-weight: 800">&nbsp;:-&nbsp;</span>
                      `
                          : ""
                      }
                      <span style="font-size: ${fontSize}px; font-family: ${fontFamily}; text-align: left;">
                        ${tmp_jsx[0]}
                      </span>
                    </div>
                  </td>
                </tr>
                ${tmp_jsx.splice(1).join("")}
              </tbody>
            </table>
          `;

                  return customSectionHTML;
                }
              }
            }

            return null; // Handle the case where customFieldDataMap is not available
          }
        );

        // Remove any null elements from the array and join the HTML elements into a single string
        const customSectionHTML = customSectionElements
          .filter((element) => element !== null)
          .join("");

        return customSectionHTML;
      }

      const maximumLengthCustomSectionsName = 50;
      // genarate the custom section preview detail
      const customSectionElement = PreviewCustomSection(
        customFieldDataMaping,
        visitPadSettings.data,
        maximumLengthCustomSectionsName,
        prescriptionPrintSettingsData.data
      );

      // Set the HTML content inside the element
      var prescriptionBody = document.getElementById("prescription-body");
      prescriptionBody.innerHTML = `
						<div class = "">
                  <table class = "table_wrapper">
                    <thead class = "header_section">
                      <tr>
                          <td>  <img src="tcs-color.png" width="20%" /> </td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <section> 
									<div class="patient-detail-container">
										<div class="patient-details-row">
											<div class="border-styled-grid">
												<div class="main-detail-container">
													<div class="detail-container">
													  <div class="grid-container">
													    <h5>UHID</h5>
													    <h5>:</h5>
													    <span>${patientDetail.display_patient_number}</span>
													
													    <h5>Patient Name</h5>
													    <h5>:</h5>
													    <span>${patientDetail.full_name}</span>
													
													    <h5>Address</h5>
													    <h5>:</h5>
													    <span>${patientDetail.address}</span>
													  </div>
													</div>
													 
													<div class="detail-container">
														<div class="grid-container"> 
														 
															<h5>
																Date
															</h5>
															<h5>: </h5>
															<span>${getDateInDDMMYYFormat(
                                examinationDetail.emr_vrnt_opd_prescription.date
                              )}</span>
														 
														 
															<h5>
																Age / Sex	
																														</h5>
																														<h5>: </h5>
															<span>${calculateAgeFromDates(
                                patientDetail.date_of_birth,
                                patientDetail.date_of_birth_by_age
                              )}
																 / ${getSexStringFromLabel(patientDetail.sex)}</span>
														 
													</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</section>
                        </td>
                      </tr>


                      <tr>
                        <td>
                          <section class="vital-section">
							<h5 class="vital-name">Vitals:</h5>
							<table class="vitals-table">
								<tbody>
									<tr>
										<td align="left" >
											<div>
												<span class="vital-label">B.P. :</span>
												<span class="vital-value">${
                          examinationDetail.visit_vital.systolic_blood_pressure
                            ? examinationDetail.visit_vital
                                .systolic_blood_pressure
                            : "--"
                        }/${
        examinationDetail.visit_vital.diastolic_blood_pressure
          ? examinationDetail.visit_vital.diastolic_blood_pressure
          : "--"
      } mmHg</span>
											</div>
										</td>
										<td align="left" >
											<div>
												<span class="vital-label">PR :</span>
												<span class="vital-value">${examinationDetail.visit_vital.pulse} bpm</span>
											</div>
										</td>
										<td align="left" >
											<div>
												<span class="vital-label">Temp :</span>
												<span class="vital-value">${examinationDetail.visit_vital.temperature_value} ${
        examinationDetail.visit_vital.temperature_unit
      }</span>
											</div>
										</td>
										<td align="left" >
											<div>
												<span class="vital-label">SpO2 :</span>
												<span class="vital-value">${examinationDetail.visit_vital.blood_oxygen} %</span>
											</div>
										</td>
										<td align="left" >
											<div>
												<span class="vital-label">Wt :</span>
												<span class="vital-value">${examinationDetail.visit_vital.weight} kg</span>
											</div>
										</td>
										<td align="left">
											<div>
												<span class="vital-label">Height :</span>
												<span class="vital-value">${examinationDetail.visit_vital.height} cm</span>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</section>
                        </td>
                      </tr>

                      <tr>
                        <td>
                          <section>
                            <!-- The content will be rendered here -->
                            <table class="medications-table">
                                    <thead>
                                        <tr>
                                            <th class="medication-cell">Medicine</th>
                                            <th class="dosage-cell">Dosage</th>
                                            <th class="frequency-cell">Frequency</th>
                                            <th class="timing-cell">Timing</th>
                                            <th class="duration-cell">Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${examinationDetail.visit_medications
                                          .map(
                                            (medication, index) => `
                                                <tr>
                                                    <td class="medication-cell">
                                                        <div class="medication-details">
                                                            <span class="medication-name">${
                                                              index + 1
                                                            }) ${
                                              medication.visit_medication.drug_type
                                            }</span>
                                                            <span class="medication-name">${
                                                              medication.personal_drugs_datum
                                                                .drug_name
                                                            }</span>
                                                            <span class="medication-generic">${
                                                              medication.personal_drugs_datum
                                                                .generic_name
                                                            }</span>
                                                            <span class="medication-instructions">${
                                                              medication.visit_medication
                                                                .instructions
                                                            }</span>
                                                        </div>
                                                    </td>
                                                    <td class="dosage-cell">${
                                                      medication.visit_medication.dosage
                                                    }  ${
                                              medication.visit_medication.unit
                                            }</td>
                                                    <td class="frequency-cell">${
                                                      medication.visit_medication
                                                        .intake_details_list[0].frequency
                                                    }</td>
                                                    <td class="timing-cell">${
                                                      medication.visit_medication
                                                        .intake_details_list[0].timing
                                                    }
                                      ${medication.visit_medication.intake_details_list[0].interval}
                                      </td>
                                                    <td class="duration-cell">${
                                                      medication.visit_medication
                                                        .intake_details_list[0].duration
                                                    }</td>
                                                </tr>
                                            `
                                          )
                                          .join("")}
                                        </section>
                                    </tbody>
                                </table>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          ${customSectionElement}
                        </td>
                      </tr>
                    </tbody>
                    
                    <tfoot class = "consultation_section">
                      <tr>
                        <th> Consultant Name: </th>
                      </tr>
                      <tr> 
                        <td> Mr R.K. Agarwal </td>
                      </tr>
                    </tfoot>
                  </table>
						`;
    </script>
  </body>
</html>
